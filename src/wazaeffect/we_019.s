//==============================================================================
/**
 * @file	we_019.s
 * @brief	ÇªÇÁÇÇ∆Ç‘			19
 * @author	goto
 * @date	2005.07.13(êÖ)
 *
 * Ç±Ç±Ç…êFÅXÇ»âê‡ìôÇèëÇ¢ÇƒÇ‡ÇÊÇ¢
 *
 */
//==============================================================================
	
	.text
	
	.include	"west.h"

	.global		WEST_SORAWOTOBU
	
// =============================================================================
//
//
//	Å°ÇªÇÁÇÇ∆Ç‘			19
//
//
// =============================================================================
#define W019_BALL_LIFE	(10)

WEST_SORAWOTOBU:

	LOAD_PARTICLE_DROP	0,W_019_SPA
	LOAD_PARTICLE_DROP	1,W_340_SPA
	
	TURN_CHK		WEST_019_TURN_1, WEST_019_TURN_2

	SEQEND

WEST_019_TURN_1:

	WORK_CLEAR
	WORK_SET		WEDEF_GP_INDEX_FADE_TYPE,  1
	WORK_SET		WEDEF_GP_INDEX_SPEED_X,  0
	WORK_SET		WEDEF_GP_INDEX_SPEED_Y,  32
	HAIKEI_CHG		BG_ID_019, WEDEF_HAIKEI_MODE_FADE | WEDEF_HAIKEI_SBIT_MOVE
	SE_L			SEQ_SE_DP_W327
	
	HAIKEI_CHG_WAIT
	
	ADD_PARTICLE 	1,W_340_340_BALL_BIG1, EMTFUNC_ATTACK_POS
	ADD_PARTICLE 	1,W_340_340_BALL_UP, EMTFUNC_ATTACK_POS	

	WAIT			10
	SE_L			SEQ_SE_DP_W019

	FUNC_CALL		WEST_SP_WE_SSP_POKE_VANISH, 2, WE_TOOL_M1, 1

	WAIT_FLAG

	WAIT_PARTICLE
	EXIT_PARTICLE	0,
	EXIT_PARTICLE	1,	
/*	
	///< ãÛÇ∆Ç—
	ADD_PARTICLE 	0,W_019_019_BALL_UP, EMTFUNC_DUMMY
	ADD_PARTICLE 	0,W_019_019_LINE_L,	 EMTFUNC_DUMMY
	ADD_PARTICLE 	0,W_019_019_LINE_R,	 EMTFUNC_DUMMY
	
	///< ä€Ç≠Ç»ÇÈ
	ADD_PARTICLE 	0,W_019_019_BALL01,	 EMTFUNC_ATTACK_POS
	ADD_PARTICLE 	0,W_019_019_BALL02,	 EMTFUNC_ATTACK_POS
	FUNC_CALL		WEST_SP_WE_SSP_POKE_VANISH, 2, WE_TOOL_M1, 1
	
	WAIT			10
	ADD_PARTICLE 	0,W_019_019_BALL03,	 EMTFUNC_ATTACK_POS
	FUNC_CALL		WEST_SP_EMIT_SIMPLE_UD, 5, 0, 0, 1, W019_BALL_LIFE, 4

	SE_L			SEQ_SE_DP_W019
	WAIT_PARTICLE
	EXIT_PARTICLE	0,	
*/	
	WORK_CLEAR
	WORK_SET		WEDEF_GP_INDEX_FADE_TYPE,  1
	WORK_SET		WEDEF_GP_INDEX_SPEED_X,  0
	WORK_SET		WEDEF_GP_INDEX_SPEED_Y,  32
	HAIKEI_RECOVER	BG_ID_019, WEDEF_HAIKEI_RC_MODE_FADE | WEDEF_HAIKEI_SBIT_STOP
	HAIKEI_CHG_WAIT
	
	SEQEND

WEST_019_TURN_2:

	WORK_CLEAR
	WORK_SET		WEDEF_GP_INDEX_FADE_TYPE,  1
	WORK_SET		WEDEF_GP_INDEX_SPEED_X,  0
	WORK_SET		WEDEF_GP_INDEX_SPEED_Y,  -32
	HAIKEI_CHG		BG_ID_019, WEDEF_HAIKEI_MODE_FADE | WEDEF_HAIKEI_SBIT_MOVE
	SE_R			SEQ_SE_DP_W327
	
	HAIKEI_CHG_WAIT
	
	ADD_PARTICLE 	0,W_019_019_BALL_ATTACK, EMTFUNC_ATTACK_POS
	FUNC_CALL		WEST_SP_EMIT_SIMPLE_UD, 5, 0, 1, 0, W019_BALL_LIFE, 4
	
	WAIT			W019_BALL_LIFE
	SE_R			SEQ_SE_DP_W019
	//SE_WAITPLAY_R	SEQ_SE_DP_W025B,10
	SE_WAITPLAY_R	SEQ_SE_DP_030,10
	
	ADD_PARTICLE 	0,W_019_033_HIT_MARK,	 EMTFUNC_DEFENCE_POS
	ADD_PARTICLE 	0,W_019_B_BURN_YEL,		 EMTFUNC_DEFENCE_POS
	FUNC_CALL		WEST_SP_WT_SHAKE, 5, 1, 0, 1, 2,  WE_TOOL_E1 | WE_TOOL_SSP,
	
	WAIT_PARTICLE
	EXIT_PARTICLE	0,
	EXIT_PARTICLE	1,	
	FUNC_CALL		WEST_SP_WE_SSP_POKE_VANISH, 2, WE_TOOL_M1, 0
	
	WORK_CLEAR
	WORK_SET		WEDEF_GP_INDEX_FADE_TYPE,  1
	WORK_SET		WEDEF_GP_INDEX_SPEED_X,  0
	WORK_SET		WEDEF_GP_INDEX_SPEED_Y,  -32
	HAIKEI_RECOVER	BG_ID_019, WEDEF_HAIKEI_RC_MODE_FADE | WEDEF_HAIKEI_SBIT_STOP
	HAIKEI_CHG_WAIT

	SEQEND
