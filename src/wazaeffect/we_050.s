//==============================================================================
/**
 * @file	we_050.s
 * @brief	Ç©Ç»ÇµÇŒÇË			50
 * @author	goto
 * @date	2005.07.13(êÖ)
 *
 * Ç±Ç±Ç…êFÅXÇ»âê‡ìôÇèëÇ¢ÇƒÇ‡ÇÊÇ¢
 *
 */
//==============================================================================
	
	.text
	
	.include	"west.h"

	.global		WEST_KANASIBARI
	
// =============================================================================
//
//
//	Å°Ç©Ç»ÇµÇŒÇË			50
//
//
// =============================================================================
#define WE_050_EVY	(14)
WEST_KANASIBARI:
	
	LOAD_PARTICLE_DROP	0,W_050_SPA
	
	CONTEST_JP		CONTEST
	
	SIDE_JP			0, MINE, ENEMY
	
	ADD_PARTICLE 	0,W_050_050_KIRA1, EMTFUNC_FIELD_OPERATOR
	EX_DATA			OPERATOR_DEF_DATA_NUM, OPERATOR_PRI_NONE, OPERATOR_TARGET_AT, OPERATOR_POS_EP_OFS, OPERATOR_AXIS_NONE, OPERATOR_FLD_NONE, OPERATOR_CAMERA_NONE
	EX_DATA			4, OPERATOR_EX_REVERCE_ON, -PT_LCD_PTP_CHG(24), -PT_LCD_PTP_CHG(0), 0

	SE_L			SEQ_SE_DP_081

	WAIT			5
	FUNC_CALL		WEST_SP_PALCOL_CHANGE, 1, 1
	WAIT			5
	SE_R			SEQ_SE_DP_061
	
	POKEOAM_RES_INIT
	POKEOAM_RES_LOAD	0,
	POKEOAM_DROP		WEDEF_DROP_E1, WEDEF_POKE_AUTO_OFF, WEDEF_POKE_CAP_ID_0, WEDEF_POKE_RES_0,
	WAIT				1
	PT_DROP_EX			WEDEF_DROP_E2, WEDEF_DROP_E2,
	
	FUNC_CALL			WEST_SP_WE_CAP_POKE_SCALE_UPDOWN,  8, 1, 8, 10, 12, 10, 1, (9 << 16 | 9), 0,
	FUNC_CALL			WEST_SP_WE_SSP_POKE_PAL_FADE, 6,  WE_TOOL_E1, 0, 1, WE_PAL_GRAY_2, WE_050_EVY, 0
	FUNC_CALL			WEST_SP_WE_OAM_PAL_FADE, 6, WE_TOOL_C0, 0, 1, WE_050_EVY, WE_050_EVY, WE_PAL_GRAY_2
	WAIT_FLAG

	FUNC_CALL		WEST_SP_PALCOL_CHANGE, 1, 0
	
	WAIT_PARTICLE
	EXIT_PARTICLE	0,
	
	POKEOAM_RES_FREE
	POKEOAM_DROP_RESET	WEDEF_POKE_CAP_ID_0
	
	PT_DROP_RESET_EX
	
	SEQEND

MINE:

	ADD_PARTICLE 	0,W_050_050_KIRA1, EMTFUNC_FIELD_OPERATOR
	EX_DATA			OPERATOR_DEF_DATA_NUM, OPERATOR_PRI_NONE, OPERATOR_TARGET_AT, OPERATOR_POS_EP_OFS, OPERATOR_AXIS_NONE, OPERATOR_FLD_NONE, OPERATOR_CAMERA_NONE
	EX_DATA			4, OPERATOR_EX_REVERCE_OFF, +PT_LCD_PTP_CHG(24), +PT_LCD_PTP_CHG(36), 0

	SE_L			SEQ_SE_DP_081

	WAIT			5
	FUNC_CALL		WEST_SP_PALCOL_CHANGE, 1, 1
	WAIT			5
	SE_R			SEQ_SE_DP_061
	
	POKEOAM_RES_INIT
	POKEOAM_RES_LOAD	0,
	POKEOAM_DROP		WEDEF_DROP_E1, WEDEF_POKE_AUTO_OFF, WEDEF_POKE_CAP_ID_0, WEDEF_POKE_RES_0,
	WAIT				1
	PT_DROP_EX			WEDEF_DROP_E2, WEDEF_DROP_E2,
	
	FUNC_CALL			WEST_SP_WE_CAP_POKE_SCALE_UPDOWN,  8, 1, 8, 10, 12, 10, 1, (9 << 16 | 9), 0,
	FUNC_CALL			WEST_SP_WE_SSP_POKE_PAL_FADE, 6,  WE_TOOL_E1, 0, 1, WE_PAL_GRAY_2, WE_050_EVY, 0
	FUNC_CALL			WEST_SP_WE_OAM_PAL_FADE, 6, WE_TOOL_C0, 0, 1, WE_050_EVY, WE_050_EVY, WE_PAL_GRAY_2
	WAIT_FLAG

	FUNC_CALL		WEST_SP_PALCOL_CHANGE, 1, 0
	
	WAIT_PARTICLE
	EXIT_PARTICLE	0,
	
	POKEOAM_RES_FREE
	POKEOAM_DROP_RESET	WEDEF_POKE_CAP_ID_0
	
	PT_DROP_RESET_EX
	
	SEQEND

ENEMY:

	ADD_PARTICLE 	0,W_050_050_KIRA1, EMTFUNC_FIELD_OPERATOR
	EX_DATA			OPERATOR_DEF_DATA_NUM, OPERATOR_PRI_NONE, OPERATOR_TARGET_AT, OPERATOR_POS_EP_OFS, OPERATOR_AXIS_NONE, OPERATOR_FLD_NONE, OPERATOR_CAMERA_NONE
	EX_DATA			4, OPERATOR_EX_REVERCE_OFF, -PT_LCD_PTP_CHG(24), +PT_LCD_PTP_CHG(36), 0

	SE_L			SEQ_SE_DP_081

	WAIT			5
	FUNC_CALL		WEST_SP_PALCOL_CHANGE, 1, 1
	WAIT			5
	SE_R			SEQ_SE_DP_061
	
	POKEOAM_RES_INIT
	POKEOAM_RES_LOAD	0,
	POKEOAM_DROP		WEDEF_DROP_E1, WEDEF_POKE_AUTO_OFF, WEDEF_POKE_CAP_ID_0, WEDEF_POKE_RES_0,
	WAIT				1
	PT_DROP_EX			WEDEF_DROP_E2, WEDEF_DROP_E2,
	
	FUNC_CALL			WEST_SP_WE_CAP_POKE_SCALE_UPDOWN,  8, 1, 8, 10, 12, 10, 1, (9 << 16 | 9), 0,
	FUNC_CALL			WEST_SP_WE_SSP_POKE_PAL_FADE, 6,  WE_TOOL_E1, 0, 1, WE_PAL_GRAY_2, WE_050_EVY, 0
	FUNC_CALL			WEST_SP_WE_OAM_PAL_FADE, 6, WE_TOOL_C0, 0, 1, WE_050_EVY, WE_050_EVY, WE_PAL_GRAY_2
	WAIT_FLAG

	FUNC_CALL		WEST_SP_PALCOL_CHANGE, 1, 0
	
	WAIT_PARTICLE
	EXIT_PARTICLE	0,
	
	POKEOAM_RES_FREE
	POKEOAM_DROP_RESET	WEDEF_POKE_CAP_ID_0
	
	PT_DROP_RESET_EX
	
	SEQEND

CONTEST:

	ADD_PARTICLE 	0,W_050_050_KIRA1, EMTFUNC_FIELD_OPERATOR
	EX_DATA			OPERATOR_DEF_DATA_NUM, OPERATOR_PRI_NONE, OPERATOR_TARGET_AT, OPERATOR_POS_EP_OFS, OPERATOR_AXIS_NONE, OPERATOR_FLD_NONE, OPERATOR_CAMERA_NONE
	EX_DATA			4, OPERATOR_EX_REVERCE_OFF, -PT_LCD_PTP_CHG(24), +PT_LCD_PTP_CHG(36), 0

	SE_L			SEQ_SE_DP_081

	WAIT			5
	FUNC_CALL		WEST_SP_PALCOL_CHANGE, 1, 1
	WAIT			5
	SE_R			SEQ_SE_DP_061
	
	POKEOAM_RES_INIT
	POKEOAM_RES_LOAD	0,
	POKEOAM_DROP		WEDEF_DROP_E1, WEDEF_POKE_AUTO_OFF, WEDEF_POKE_CAP_ID_0, WEDEF_POKE_RES_0,
	WAIT				1
	PT_DROP_EX			WEDEF_DROP_E2, WEDEF_DROP_E2,
	
	FUNC_CALL			WEST_SP_WE_CAP_POKE_SCALE_UPDOWN,  8, 1, 8, 10, 12, 10, 1, (9 << 16 | 9), 0,
	FUNC_CALL			WEST_SP_WE_SSP_POKE_PAL_FADE, 6,  WE_TOOL_E1, 0, 1, WE_PAL_GRAY_2, WE_050_EVY, 0
	FUNC_CALL			WEST_SP_WE_OAM_PAL_FADE, 6, WE_TOOL_C0, 0, 1, WE_050_EVY, WE_050_EVY, WE_PAL_GRAY_2
	WAIT_FLAG

	FUNC_CALL		WEST_SP_PALCOL_CHANGE, 1, 0
	
	WAIT_PARTICLE
	EXIT_PARTICLE	0,
	
	POKEOAM_RES_FREE
	POKEOAM_DROP_RESET	WEDEF_POKE_CAP_ID_0
	
	PT_DROP_RESET_EX
	
	SEQEND